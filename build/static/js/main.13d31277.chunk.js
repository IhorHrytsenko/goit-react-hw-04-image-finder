(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{15:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(7),c=a.n(r),i=(a(15),a(3)),s=a(4),l=a(6),u=a(5),h=a(0),g=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"readInput",value:function(e){e.preventDefault(),this.props.queue(e.target[1].value)}},{key:"render",value:function(){return Object(h.jsx)("header",{className:"Searchbar",children:Object(h.jsxs)("form",{className:"SearchForm",onSubmit:this.readInput.bind(this),children:[Object(h.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(h.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(h.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"\u041f\u043e\u0438\u0441\u043a \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u0438 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0439"})]})})}}]),a}(n.Component),d=g,p=a(10),b=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return this.props.webformatURL.map((function(t){return Object(h.jsx)("li",{className:"ImageGalleryItem",children:Object(h.jsx)("img",{src:t.webformatURL,alt:t.largeImageURL,className:"ImageGalleryItem-image",onClick:e.props.toggle})},t.id)}))}}]),a}(n.Component),m=b,j=a(9),f=a.n(j),O=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={page:1,KEY:"23099415-b292849e49f5632c41c65f5ef",webformatURL:[],loading:!1},e}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this;e.queue!==this.props.queue&&(this.setState({page:1,webformatURL:[],loading:!0}),this.api(this.props.queue),this.setState((function(e){return{page:e.page+1,queue:a.props.queue}}))),this.state.webformatURL.length>12&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"handleOnClick",value:function(){this.setState((function(e){return{page:e.page+1}})),this.api()}},{key:"api",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.queue,a=this.state,n=a.page,o=a.KEY;try{fetch("https://pixabay.com/api/?q=".concat(t,"&page=").concat(n,"&key=").concat(o,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()})).then((function(t){e.setState((function(e){return{webformatURL:[].concat(Object(p.a)(e.webformatURL),Object(p.a)(t.hits))}}))})).finally((function(){e.setState({loading:!1})}))}catch(r){console.log(r)}}},{key:"render",value:function(){return this.state.loading?Object(h.jsx)(f.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3,className:"loader"}):this.state.loading?void 0:Object(h.jsxs)(o.a.StrictMode,{children:[Object(h.jsx)("ul",{className:"ImageGallery",children:0!==this.state.webformatURL.length?Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(m,{webformatURL:this.state.webformatURL,toggle:this.props.toggle,getLargeImd:this.props.getLargeImd})}):Object(h.jsx)("div",{children:Object(h.jsx)("p",{children:"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u0442\u0443\u0442 \u043f\u043e\u043a\u0430 \u0447\u0442\u043e \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435\u0442..."})})}),this.state.loading&&Object(h.jsx)(f.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3,className:"loader"}),0!==this.state.webformatURL.length&&Object(h.jsx)("button",{type:"button",className:"Button",onClick:this.handleOnClick.bind(this),children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435..."})]})}}]),a}(n.Component),v=O,y=document.querySelector("#modal__root"),w=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).toggleModal=function(t){"Escape"===t.code&&e.props.toggle()},e.toggleModalOverlay=function(t){t.target===t.currentTarget&&e.props.toggle()},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.toggleModal)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.toggleModal)}},{key:"render",value:function(){return Object(r.createPortal)(Object(h.jsx)("div",{className:"Overlay",onClick:this.toggleModalOverlay,children:Object(h.jsx)("div",{className:"Modal",children:Object(h.jsx)("img",{src:this.props.largeImg,alt:""})})}),y)}}]),a}(n.Component),x=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={queue:"",showModal:!1,largeImg:""},e.handleQueue=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.setState({queue:t})},e.toggleModal=function(t){e.setState((function(e){return{showModal:!e.showModal}})),!1===e.state.showModal&&void 0!==t&&e.setState({largeImg:t.target.alt})},e.toggleLoad=function(){e.setState((function(){return{loader:!1}}))},e}return Object(s.a)(a,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"App",children:[this.state.showModal&&Object(h.jsx)(w,{toggle:this.toggleModal,largeImg:this.state.largeImg}),Object(h.jsx)(d,{queue:this.handleQueue}),Object(h.jsx)(v,{queue:this.state.queue,toggle:this.toggleModal})]})}}]),a}(n.Component),k=x;c.a.render(Object(h.jsx)(o.a.StrictMode,{children:Object(h.jsx)(k,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.13d31277.chunk.js.map