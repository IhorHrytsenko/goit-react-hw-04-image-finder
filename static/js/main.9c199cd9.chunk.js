(this["webpackJsonpgoit-react-hw-04-image-finder"]=this["webpackJsonpgoit-react-hw-04-image-finder"]||[]).push([[0],{14:function(e,t,c){},36:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),o=c(5),r=c.n(o),i=(c(14),c(3)),s=c(0);function l(e){return Object(s.jsx)("header",{className:"Searchbar",children:Object(s.jsxs)("form",{className:"SearchForm",onSubmit:function(t){t.preventDefault(),e.queue(t.target[1].value)},children:[Object(s.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(s.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(s.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"\u041f\u043e\u0438\u0441\u043a \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u0438 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0439"})]})})}var u=c(9);function j(e){return e.webformatURL.map((function(t){return Object(s.jsx)("li",{className:"ImageGalleryItem",children:Object(s.jsx)("img",{src:t.webformatURL,alt:t.largeImageURL,className:"ImageGalleryItem-image",onClick:e.toggle})},t.id)}))}var b=c(8),m=c.n(b),d="23099415-b292849e49f5632c41c65f5ef";var g=function(e){var t=Object(a.useState)(1),c=Object(i.a)(t,2),o=c[0],r=c[1],l=Object(a.useState)([]),b=Object(i.a)(l,2),g=b[0],h=b[1],f=Object(a.useState)(!1),O=Object(i.a)(f,2),p=O[0],x=O[1];function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";x(!0);try{fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(o,"&key=").concat(d,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()})).then((function(e){h((function(t){return[].concat(Object(u.a)(t),Object(u.a)(e.hits))}))})).finally((function(){x(!1),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))}catch(t){console.log(t)}}return Object(a.useEffect)((function(){e.queue&&(x(!0),r(1),h([]),v(e.queue),r(o+1))}),[e.queue]),p&&0===g.length?Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(m.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3,className:"loader"})}):e.queue?Object(s.jsxs)(n.a.StrictMode,{children:[Object(s.jsx)("ul",{className:"ImageGallery",children:Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(j,{webformatURL:g,toggle:e.toggle,getLargeImd:e.getLargeImd})})}),!0===p?Object(s.jsx)(m.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3,className:"loader"}):Object(s.jsx)("button",{type:"button",className:"Button",onClick:function(){r(o+1),v()},children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435..."})]}):p?void 0:Object(s.jsx)("div",{children:Object(s.jsx)("p",{children:"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u0442\u0443\u0442 \u043f\u043e\u043a\u0430 \u0447\u0442\u043e \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435\u0442..."})})},h=document.querySelector("#modal__root");function f(e){Object(a.useEffect)((function(){window.addEventListener("keydown",t)})),Object(a.useEffect)((function(){window.removeEventListener("keydown",t)}));var t=function(t){"Escape"===t.code&&e.toggle()};return Object(o.createPortal)(Object(s.jsx)("div",{className:"Overlay",onClick:function(t){t.target===t.currentTarget&&e.toggle()},children:Object(s.jsx)("div",{className:"Modal",children:Object(s.jsx)("img",{src:e.largeImg,alt:""})})}),h)}var O=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),c=t[0],n=t[1],o=Object(a.useState)(!1),r=Object(i.a)(o,2),u=r[0],j=r[1],b=Object(a.useState)(""),m=Object(i.a)(b,2),d=m[0],h=m[1],O=function(e){j(!u),!1===u&&void 0!==e&&h(e.target.alt)};return Object(s.jsxs)("div",{className:"App",children:[u&&Object(s.jsx)(f,{toggle:O,largeImg:d}),Object(s.jsx)(l,{queue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";n(e)}}),Object(s.jsx)(g,{queue:c,toggle:O})]})};r.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(O,{})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.9c199cd9.chunk.js.map